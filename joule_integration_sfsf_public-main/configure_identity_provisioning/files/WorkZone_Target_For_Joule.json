{"id":"80f8a353-b5dd-49e8-a048-08ec288aeb3c","connectorTypeString":"CFLP","accessMode":"WRITE","destinationName":"","alias":"Target System for SFSF Source specific for Joule","relatedSystems":[],"gitAllowedExpressions":[],"gitDisallowedExpressions":[],"emailSubscribers":[],"name":"WorkZone_Target_ForJoule","tenantId":"techrig","state":"ENABLED","systemManagementType":"CUSTOMER_MANAGED","properties":{"Authentication":"BasicAuthentication","cflp.bulk.operations.max.count":"100","cflp.group.unique.attribute":"externalId,['urn:ietf:params:scim:schemas:extension:2.0:mapping']['providerId']","cflp.patch.group.members.above.threshold":"5000","cflp.providerId":"<ProviderID specified in  Workzone>","cflp.user.unique.attribute":"emails[0].value,['urn:ietf:params:scim:schemas:extension:2.0:mapping']['providerId'],externalId","ips.trace.failed.entity.content":"true","OAuth2TokenServiceURL":"<uaa url>/oauth/token","ProxyType":"Internet","Type":"HTTP","URL":"< portal-service URL - copy and paste from WorkZone Service Key>","User":"<clientID - copy and paste from WorkZone service key>"},"encryptedProperties":{"Password":null},"automaticOutboundCertificateRenew":false,"transformationChanged":false,"readTransformationChanged":false,"writeTransformationChanged":false,"fromImport":false,"transformation":{"user":{"skipOperations":["update"],"mappings":[{"sourceVariable":"entityIdTargetSystem","targetPath":"$.id"},{"constant":"urn:ietf:params:scim:schemas:core:2.0:User","targetPath":"$.schemas[0]"},{"constant":"%cflp.providerId%","targetPath":"$['urn:ietf:params:scim:schemas:extension:2.0:mapping']['providerId']"},{"condition":"$.emails[?(@.primary == true)].value == []","sourcePath":"$.emails[0].value","optional":true,"targetPath":"$.emails[0].value"},{"condition":"$.emails[?(@.primary == true)].value != []","sourcePath":"$.emails[?(@.primary == true)].value","preserveArrayWithSingleElement":true,"optional":true,"targetPath":"$.emails[0].value","functions":[{"function":"elementAt","index":0}]},{"condition":"$.emails[0].length() > 0","constant":true,"targetPath":"$.emails[0].primary"},{"sourcePath":"$['urn:ietf:params:scim:schemas:extension:sap:2.0:User']['userUuid']","optional":true,"targetPath":"$.externalId"},{"constant":"enabled","targetPath":"$['urn:ietf:params:scim:schemas:extension:sap:2.0:User']['passwordDetails']['status']","scope":"createEntity"},{"sourcePath":"$.groups[*].value","preserveArrayWithSingleElement":true,"optional":true,"targetPath":"$.groups[?(@.value)]","functions":[{"function":"resolveEntityIds","entityType":"group"}]}]},"group":{"mappings":[{"sourceVariable":"entityIdTargetSystem","targetPath":"$.id"},{"constant":"%cflp.providerId%","targetPath":"$['urn:ietf:params:scim:schemas:extension:2.0:mapping']['providerId']"},{"constant":"urn:ietf:params:scim:schemas:core:2.0:Group","targetPath":"$.schemas[0]"},{"constant":"urn:ietf:params:scim:schemas:core:2.0:mapping","optional":true,"targetPath":"$.schemas[1]"},{"sourcePath":"$.displayName","optional":true,"targetPath":"$.externalId"},{"sourcePath":"$.externalId","optional":true,"targetPath":"$.externalId","functions":[{"function":"replaceAllString","regex":"(?i)(^pcd:)","replacement":""},{"function":"replaceString","target":"/","replacement":":"},{"function":"replaceString","target":"(","replacement":"@"},{"function":"replaceString","target":")","replacement":"+"}]},{"sourcePath":"$.members[*].value","preserveArrayWithSingleElement":true,"optional":true,"targetPath":"$.members[?(@.value)]","functions":[{"function":"resolveEntityIds"}]}]}},"gitFetchAllowed":false}